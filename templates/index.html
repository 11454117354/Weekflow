{% extends 'layout.html' %}

{% block title %}Home{% endblock %}

{% block content %}

<div class="container">
    <!-- 左侧周选择侧栏 -->
    <aside class="sidebar">
        <h3>Weeks</h3>
        <ul id="week-list"></ul>
        <h4 id="archived-toggle" class="archived-toggle">
            Archived ▼
        </h4>
        <ul id="archived-week-list" class="archived-list hidden"></ul>
        
        <!-- 新week按钮 -->
        <form id="newWeek">
            <button type="submit">Add New Week</button>
        </form>

        <!-- Rename弹窗模板 -->
        <div id="week-popup-template" class="modal" style="display:none;">
            <div class="modal-content">
                <h3>Rename Week</h3>

                <label>
                    <span>Week Name</span>
                    <input type="text" class="popup-weekname" required>
                </label>

                <div class="actions">
                    <button type="button" class="popup-cancel">Cancel</button>
                    <button type="button" class="popup-confirm">Confirm</button>
                </div>
            </div>
        </div>

        <!-- 新建week弹窗 -->
        <div id="modal" class="modal">
            <div class="modal-content">
                <h3>Add a new week</h3>

                <label>
                    <span>Week Name</span>
                    <input type="text" id="weekname" required>
                </label>

                <label>
                    <span>Start Time</span> 
                    <input type="datetime-local" id="week-start" required>
                </label>

                <label>
                    <span>End Time</span>  
                    <input type="datetime-local" id="week-end" required>
                </label>

                <div class="actions">
                    <button type="button" id="cancel">Cancel</button>
                    <button type="button" id="confirm">Confirm</button>
                </div>
            </div>
        </div>
    </aside>

    <!-- 右侧 TODO 内容 -->
    <main class="todo-content">
        <h3 id="todo-title">Todos</h3>

        <div id="todo-list"></div>

        <div class="todo-footer">
            <button id="add-task-btn">Add New Task</button>
        </div>
    </main>
</div>

<div id="task-modal" class="modal" style="display:none;">
    <div class="modal-content">
        <h3 id="task-modal-title">Add Task</h3>

        <label>
            <span>Title</span>
            <input type="text" id="task-title">
        </label>

        <label>
            <span>DDL</span>
            <input type="datetime-local" id="task-ddl">
        </label>

        <label>
            <span>Category</span>
            <select id="task-category"></select>
        </label>

        <label>
            <span>Remark</span>
            <textarea id="task-remark"></textarea>
        </label>

        <div class="actions">
            <button type="button" id="task-cancel">Cancel</button>
            <button type="button" id="task-confirm">Confirm</button>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='index.js') }}"></script>

{% endblock %}