{% extends 'layout.html' %}

{% block title %}Category{% endblock %}

{% block content %}

<div class="container">
    <main class="single-column">
        <h3>Categories</h3>

        <ul id="category-list">
            <!-- JS 动态填充 category -->
        </ul>

        <form id="newCategory">
            <button type="submit">Add New Category</button>
        </form>

        <!-- Category modal template -->
        <div id="category-modal-template" class="modal" style="display:none;">
            <div class="modal-content">
                <h3 id="modal-title">New Category</h3>

                <label>
                    Name
                    <input type="text" class="popup-category-name" required>
                </label>

                <label>
                    Color
                    <input type="color" class="popup-category-color" value="#2274F8" required>
                </label>

                <div class="actions">
                    <button type="button" class="popup-cancel">Cancel</button>
                    <button type="button" class="popup-confirm">Confirm</button>
                </div>
            </div>
        </div>
        
        <!-- Delete Category Modal -->
        <div id="delete-category-modal-template" class="modal" style="display:none;">
            <div class="modal-content">
                <h3 id="delete-modal-title">Delete Category</h3>
                <p>Choose what to do with tasks in this category:</p>

                <label>
                    <input type="radio" name="deleteOption" value="delete" checked>
                    Delete all tasks
                </label>
                <label>
                    <input type="radio" name="deleteOption" value="move">
                    Move tasks to another category
                </label>

                <label id="move-category-label" style="display:none;">
                    Destination Category
                    <select id="destination-category-select"></select>
                </label>

                <div class="actions">
                    <button type="button" class="popup-cancel">Cancel</button>
                    <button type="button" class="popup-confirm">Confirm</button>
                </div>
            </div>
        </div>
    </main>
</div>

<script src="{{ url_for('static', filename='category.js') }}"></script>

{% endblock %}